
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¹€ì‹œí™˜ì˜ íœ´ëŒ€í°</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&display=swap" rel="stylesheet">
    <style>
        /* ===== ê¸°ë³¸ ì„¤ì • ë° í”„ë ˆì„ ===== */
        body { margin: 0; padding: 0; background-color: #333; font-family: 'Noto Sans KR', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        .phone { aspect-ratio: 390 / 844; max-width: 90vw; max-height: 90vh; width: 390px; height: 844px; border: 12px solid black; border-radius: 50px; box-shadow: 0 0 30px rgba(0,0,0,0.5); position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #000; }
        .screen { width: 100%; height: 100%; position: relative; overflow: hidden; background-color: #ffffff; border-radius: 38px; }

        /* ===== í˜ì´ì§€ ì „í™˜ ë° ë ˆì´ì•„ì›ƒ ===== */
        .page { position: absolute; width: 100%; height: 100%; top: 0; left: 0; background-color: #f9f9f9; display: flex; flex-direction: column; transition: opacity 0.2s ease-in-out; visibility: hidden; opacity: 0; z-index: 1; color: #000000; }
        .page.active { visibility: visible; opacity: 1; z-index: 10; }

        /* ===== ê³µí†µ UI ìš”ì†Œ ===== */
        .status-bar { text-align: right; padding: 18px 25px 10px 25px; font-size: 14px; font-weight: 700; flex-shrink: 0; color: #000000; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); z-index: 100; }
        .status-bar.dark-mode { color: #ffffff; background: rgba(0, 0, 0, 0.3); }
        .app-header { display: flex; justify-content: center; align-items: center; padding: 10px 20px; border-bottom: 1px solid #e0e0e0; flex-shrink: 0; font-weight: 700; font-size: 1.1em; background-color: #f8f8f8; position: relative; }
        .app-header .back-button { cursor: pointer; font-size: 1.2em; font-weight: bold; position: absolute; left: 20px; }
        .content-body { flex-grow: 1; overflow-y: auto; background-color: #ffffff; }
        .home-indicator-container { padding: 20px 0 10px 0; display: flex; justify-content: center; align-items: center; flex-shrink: 0; }
        .home-indicator { width: 134px; height: 5px; background-color: #000000; border-radius: 100px; cursor: pointer; }

        /* ===== í™ˆ í™”ë©´ ===== */
        .home-screen { background-size: cover; background-position: center; color: white; }
        .app-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; padding: 20px; flex-grow: 1; align-content: start; }
        .app-icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; text-align: center; }
        .app-icon img { width: 60px; height: 60px; border-radius: 15px; margin-bottom: 5px; }
        .app-icon span { font-size: 12px; color: #fff; text-shadow: 0 1px 3px rgba(0,0,0,0.5); }
        .dock { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; padding: 10px 20px; background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: 20px; margin: 0 10px 5px 10px; }

        /* ===== ì•±ë³„/ìš”ì†Œë³„ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ ===== */
        .image-placeholder { background-color: #ccc; display: flex; justify-content: center; align-items: center; color: #666; font-size: 12px; text-align: center; padding: 10px; box-sizing: border-box; word-break: keep-all; line-height: 1.3; }
        
        .list-item { padding: 15px 20px; border-bottom: 1px solid #e8e8e8; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .list-item:hover { background-color: #f0f0f0; }
        .list-item .title { font-weight: bold; }
        .list-item .preview { color: #888; font-size: 0.9em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px; }
        .list-item.missed .title { color: #FF3B30; }

        /* ===== iOS Toggle Switch for Alarms ===== */
        .alarm-toggle { display: flex; align-items: center; }
        .toggle-switch { position: relative; display: inline-block; width: 51px; height: 31px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #E9E9EA; -webkit-transition: .4s; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 27px; width: 27px; left: 2px; bottom: 2px; background-color: white; -webkit-transition: .4s; transition: .4s; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
        input:checked + .slider { background-color: #34C759; }
        input:checked + .slider:before { -webkit-transform: translateX(20px); -ms-transform: translateX(20px); transform: translateX(20px); }

        /* ì‚¬ì§„ì²© */
        .photo-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 2px; }
        .photo-item { aspect-ratio: 1 / 1; cursor: pointer; }
        .photo-item img { width: 100%; height: 100%; object-fit: cover; }
        .section-title { padding: 10px 20px; background-color: #f0f0f0; font-weight: bold; font-size: 0.9em; }
        .section-title[onclick] { cursor: pointer; }
        
        /* ===== Photo Modal ===== */
        .photo-modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
            z-index: 10002;
        }
        .photo-modal-overlay.visible {
            display: flex;
        }
        .photo-modal-content {
            max-width: 100%;
            max-height: 80%;
            object-fit: contain;
        }
        .close-photo-modal {
            position: absolute;
            top: 40px;
            right: 25px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        .close-photo-modal:hover,
        .close-photo-modal:focus {
            color: #bbb;
            text-decoration: none;
        }

        /* ë¯¸ë¦¬ ì•Œë¦¼ */
        .reminder-item {
            display: flex;
            align-items: center;
            width: 100%;
        }
        .reminder-checkbox {
            flex-shrink: 0;
            width: 22px;
            height: 22px;
            border: 2px solid #c8c8c8;
            border-radius: 4px;
            margin-right: 15px;
            position: relative;
        }
        .reminder-checkbox.checked {
            background-color: #1A202C;
            border-color: #1A202C;
        }
        .reminder-checkbox.checked::after {
            content: "";
            position: absolute;
            left: 7px;
            top: 3px;
            width: 6px;
            height: 12px;
            border: solid #E2E8F0;
            border-width: 0 3px 3px 0;
            -webkit-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        /* ë©”ì‹œì§€ */
        .chat-body { display: flex; flex-direction: column; padding: 20px; }
        .message-bubble { padding: 10px 15px; border-radius: 18px; max-width: 75%; margin-bottom: 10px; line-height: 1.4; word-wrap: break-word; }
        .message-bubble.sent { background-color: #007AFF; color: white; align-self: flex-end; }
        .message-bubble.received { background-color: #E5E5EA; color: #000000; align-self: flex-start; }

        /* ===== ìº˜ë¦°ë” ===== */
        #calendar .content-body {
            background-color: #ffffff;
            padding: 10px;
            overflow-y: auto;
        }
        .day-names {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            color: #666;
            font-weight: 500;
            text-align: center;
            font-size: 0.8em;
            padding-bottom: 10px;
        }
        .day-names div {
            padding: 10px 0;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: #e0e0e0;
        }
        .calendar-grid .day-cell {
            position: relative;
            background-color: #ffffff;
            padding: 8px;
            aspect-ratio: 1 / 1;
            font-size: 0.9em;
            display: flex;
            justify-content: flex-start;
            align-items: flex-start;
        }
        .calendar-grid .day-cell.empty {
            background-color: #f9f9f9;
        }
        .date-number {
            font-weight: 500;
            color: #333;
            position: relative;
            z-index: 2; /* Ensure date number is on top of event bars/dots */
        }
        .calendar-grid .day-cell.has-event {
            background-color: #696969;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .calendar-grid .day-cell.has-event:hover {
            background-color: #555555;
        }
        .calendar-grid .day-cell.has-event .date-number {
            color: #ffffff;
        }
        .calendar-event {
            display: none !important;
        }
        .event-list {
            display: none !important;
        }
        .event-tooltip {
            position: absolute;
            background-color: #333;
            color: #fff;
            padding: 8px 12px;
            border-radius: 6px;
            z-index: 10005;
            font-size: 1em;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, transform 0.2s;
            pointer-events: none;
            white-space: nowrap;
            transform: translate(-50%, -100%);
        }
        .event-tooltip.show {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -120%);
        }
        .event-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }
         /* Multi-day event bar styles */
        .event-bar {
            position: absolute;
            top: 60%;
            height: 20px;
            background-color: #e0e0e0; /* Light gray for event bar */
            color: #000000; /* Black text */
            font-size: 0.75em;
            font-weight: 500;
            line-height: 20px;
            padding: 0 8px;
            overflow: visible; /* Allow text to be fully visible */
            white-space: nowrap;
            z-index: 3; /* Ensure text is on top of other elements */
            left: 0;
            right: 0;
            pointer-events: none;
        }
        .event-bar.start {
            border-top-left-radius: 10px;
            border-bottom-left-radius: 10px;
            left: 2px;
        }
        .event-bar.end {
            border-top-right-radius: 10px;
            border-bottom-right-radius: 10px;
            right: 2px;
        }

        /* ===== ì‚¬íŒŒë¦¬ ===== */
        .safari-header {
            padding: 10px 15px;
            background-color: #f8f8f8;
            border-bottom: 1px solid #e0e0e0;
            flex-shrink: 0;
        }
        .search-bar-container {
            display: flex;
            align-items: center;
            background-color: #EFEFF4;
            border-radius: 10px;
        }
        .search-icon {
            padding: 0 4px 0 12px;
            font-size: 1.1em;
            color: #8E8E93;
            line-height: 0;
        }
        .search-bar {
            width: 100%;
            padding: 8px 15px 8px 5px;
            font-size: 1em;
            border: none;
            background-color: transparent;
            box-sizing: border-box;
            outline: none;
        }
        #safari-history-container {
            display: none;
        }

        /* ===== ìŒì•… ì•± ===== */
        #music {
            background: linear-gradient(to bottom, #2c3e50, #000000);
            color: white;
        }
        #music .status-bar,
        #music .app-header,
        #music .content-body {
            background-color: transparent;
        }
        #music .app-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        #music .list-item {
            border-bottom-color: rgba(255, 255, 255, 0.15);
        }
        #music .list-item .preview {
            color: #cccccc;
        }
        #music .list-item .title {
             color: #ffffff;
        }
        
        /* ë©”ëª¨ */
        .note-content { padding: 20px; font-size: 1.1em; line-height: 1.6; white-space: pre-wrap; }
        .lock-icon { margin-right: 8px; }

        /* ì¼ê¸° (Depressing/Functional Design) */
        #diary .app-header {
            background-color: #1A202C;
            color: #E2E8F0;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1.2em;
            text-shadow: none;
            border-bottom: 1px solid #2D3748;
            letter-spacing: normal;
        }
        #diary .content-body {
            background-color: #1A202C;
            background-image: none;
            padding: 0 20px;
        }
        .diary-entry {
            background-color: transparent;
            padding: 20px 0;
            margin-bottom: 0;
            border-radius: 0;
            box-shadow: none;
            position: relative;
            border: none;
            border-bottom: 1px solid #2D3748;
            font-family: 'Noto Sans KR', sans-serif;
            transform: none;
        }
        .diary-entry:last-of-type {
            border-bottom: none;
        }
        .diary-entry .date {
            font-weight: 700;
            color: #A0AEC0;
            margin-bottom: 8px;
            font-size: 0.9em;
            padding-bottom: 0;
            border-bottom: none;
        }
        .diary-entry .content {
            line-height: 1.6;
            font-size: 1em;
            color: #E2E8F0;
        }


        /* ë§ìƒ ì•„ì¹´ì´ë¸Œ (Custom App 1) - ìµëª… ì»¤ë®¤ë‹ˆí‹° í…Œë§ˆ */
        #customApp1, #customApp1-post-detail {
            background-color: #121212;
            color: #e0e0e0;
        }
        #customApp1 .status-bar, #customApp1-post-detail .status-bar {
            color: #ffffff;
            background: transparent;
        }
        #customApp1 .app-header, #customApp1-post-detail .app-header {
            background-color: transparent;
            color: #e0e0e0;
            font-weight: 500;
            border-bottom: 1px solid #3a3a3a;
            text-shadow: none;
        }
        #customApp1 .content-body {
            background-color: transparent;
            padding: 0;
        }
        #customApp1-post-detail .content-body {
            background-color: transparent;
            padding: 20px;
        }
        #customApp1 .home-indicator-container,
        #customApp1-post-detail .home-indicator-container {
            background-color: transparent;
        }
        #customApp1 .home-indicator,
        #customApp1-post-detail .home-indicator {
            background-color: #fff;
        }
        .post-item {
            padding: 15px; border-bottom: 1px solid #2a2a2a; cursor: pointer; transition: background-color 0.2s;
        }
        .post-item:hover { background-color: #1f1f1f; }
        .post-title { font-size: 1.1em; color: #e0e0e0; margin-bottom: 8px; font-weight: 500; }
        .post-title .popular-tag { color: #ff4757; font-weight: 700; margin-right: 5px; }
        .post-meta { font-size: 0.85em; color: #777; display: flex; gap: 15px; }
        
        /* Post Detail View */
        .post-view-header { border-bottom: 1px solid #3a3a3a; padding-bottom: 15px; margin-bottom: 15px; }
        .post-view-header .title { font-size: 1.4em; font-weight: 700; color: #fff; margin-bottom: 10px; }
        .post-view-header .author { color: #aaa; font-size: 0.9em; }
        .post-view-body { font-size: 1.05em; line-height: 1.7; color: #e0e0e0; padding-bottom: 20px; }
        .post-actions { display: flex; justify-content: center; padding: 15px 0; border-top: 1px solid #3a3a3a; border-bottom: 1px solid #3a3a3a; }
        .recommend-button { background: #333; color: #fff; border: 1px solid #555; border-radius: 8px; padding: 10px 20px; font-size: 1em; cursor: pointer; }
        .comment-section { margin-top: 20px; }
        .comment-section-title { font-size: 1.1em; font-weight: 600; color: #fff; margin-bottom: 15px; border-bottom: 1px solid #3a3a3a; padding-bottom: 10px; }
        .comment-item { padding: 12px 0; border-bottom: 1px solid #2a2a2a; }
        .comment-item:last-child { border-bottom: none; }
        .comment-author { font-weight: 700; color: #ccc; margin-bottom: 5px; }
        .comment-text { color: #e0e0e0; line-height: 1.5; }
        .comment-input-form { display: flex; margin-top: 20px; gap: 10px; }
        .comment-input { flex-grow: 1; background: #2a2a2a; border: 1px solid #444; border-radius: 8px; color: #fff; padding: 10px; font-size: 1em; }
        .comment-submit { background: #007AFF; color: #fff; border: none; border-radius: 8px; padding: 0 15px; font-weight: 600; cursor: pointer; }
        
        /* ===== ì•Œë¦¼ ë°°ë„ˆ (Notification Banner) ===== */
        .notification-banner {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%) translateY(-150%);
            width: 95%;
            max-width: 380px;
            background-color: rgba(42, 42, 42, 0.85); /* Dark theme */
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 9999;
            display: flex;
            align-items: center;
            transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
            visibility: hidden;
        }
        .notification-banner.show {
            transform: translateX(-50%) translateY(0);
            visibility: visible;
        }
        .notification-app-icon {
            flex-shrink: 0;
            margin-right: 10px;
        }
        .notification-app-icon img {
            width: 24px;
            height: 24px;
            border-radius: 6px;
        }
        .notification-text-content {
            flex-grow: 1;
        }
        .notification-title {
            font-size: 13px;
            font-weight: 600;
            color: #a0aec0; /* Light gray for dark theme */
        }
        .notification-body {
            font-size: 15px;
            color: #e2e8f0; /* Light text for dark theme */
            margin-top: 2px;
        }

        /* ===== Password Modal ===== */
        .modal-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        .modal-overlay.visible {
            display: flex;
        }
        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 14px;
            width: 270px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.25);
        }
        .modal-content h3 {
            margin: 0 0 8px 0;
            font-size: 1.1em;
            font-weight: 700;
        }
        #password-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            margin: 15px 0;
            box-sizing: border-box;
            text-align: center;
            font-size: 1em;
        }
        .modal-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            border-top: 1px solid #dbdbdb;
            padding-top: 12px;
            margin-top: 5px;
        }
        .modal-buttons button {
            padding: 10px;
            border: none;
            border-radius: 8px;
            background-color: transparent;
            cursor: pointer;
            font-size: 1.05em;
            font-weight: 400;
            color: #007AFF;
        }
        .modal-buttons button#password-submit {
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="phone">
        <div class="screen">
            <div id="notification-banner" class="notification-banner">
                <div class="notification-app-icon">
                    <img src="https://github.com/sidsid-hue/sid/blob/main/c.webp?raw=true" alt="ë§ìƒ ì•„ì¹´ì´ë¸Œ ì•„ì´ì½˜">
                </div>
                <div class="notification-text-content">
                    <div class="notification-title"></div>
                    <div class="notification-body"></div>
                </div>
            </div>
            <!-- í™ˆ í™”ë©´ -->
            <div id="home" class="page home-screen active">
                <div class="status-bar dark-mode"></div>
                <div class="app-grid">
                    <!-- ê¸°ë³¸ ì•± -->
                    <div class="app-icon" data-page="calendar"><img src="https://raw.githubusercontent.com/sidsid-hue/sid/4186332fd67b6cfa2470d33bcad0dcad89113e2c/icon/S.webp"><span>ìº˜ë¦°ë”</span></div>
                    <div class="app-icon" data-page="photos"><img src="https://raw.githubusercontent.com/sidsid-hue/sid/4186332fd67b6cfa2470d33bcad0dcad89113e2c/icon/image.webp"><span>ì‚¬ì§„ì²©</span></div>
                    <div class="app-icon" data-page="notes"><img src="https://raw.githubusercontent.com/sidsid-hue/sid/4186332fd67b6cfa2470d33bcad0dcad89113e2c/icon/note.webp"><span>ë©”ëª¨</span></div>
                    <div class="app-icon" id="diary-app-icon"><img src="https://github.com/sidsid-hue/sid/blob/main/d.webp?raw=true"><span>ì¼ê¸°ì¥</span></div>
                    <div class="app-icon" data-page="reminders"><img src="https://raw.githubusercontent.com/sidsid-hue/sid/4186332fd67b6cfa2470d33bcad0dcad89113e2c/icon/re.webp"><span>ë¯¸ë¦¬ ì•Œë¦¼</span></div>
                    <div class="app-icon" data-page="music"><img src="https://raw.githubusercontent.com/sidsid-hue/sid/4186332fd67b6cfa2470d33bcad0dcad89113e2c/icon/Mu.webp"><span>ìŒì•…</span></div>
                    <!-- ì»¤ìŠ¤í…€ ì•± -->
                    <div id="custom-app-icon-1" class="app-icon" data-page="customApp1"></div>
                </div>
                <div class="dock">
                    <div class="app-icon" data-page="calls"><img src="https://raw.githubusercontent.com/sidsid-hue/sid/4186332fd67b6cfa2470d33bcad0dcad89113e2c/icon/Call.webp"></div>
                    <div class="app-icon" data-page="messages"><img src="https://raw.githubusercontent.com/sidsid-hue/sid/4186332fd67b6cfa2470d33bcad0dcad89113e2c/icon/M.webp"></div>
                    <div class="app-icon" data-page="alarms"><img src="https://github.com/sidsid-hue/sid/blob/main/alarm22.png?raw=true"></div>
                    <div class="app-icon" data-page="safari"><img src="https://raw.githubusercontent.com/sidsid-hue/sid/4186332fd67b6cfa2470d33bcad0dcad89113e2c/icon/SA.webp"></div>
                </div>
            </div>

            <!-- ì „í™” -->
            <div id="calls" class="page">
                <div class="status-bar"></div>
                <div class="app-header">ìµœê·¼ í†µí™”</div>
                <div class="content-body" id="call-history-list"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ì•ŒëŒ -->
            <div id="alarms" class="page">
                <div class="status-bar"></div>
                <div class="app-header">ì•ŒëŒ</div>
                <div class="content-body" id="alarm-list"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ìº˜ë¦°ë” -->
            <div id="calendar" class="page">
                <div class="status-bar"></div>
                <div class="app-header" id="calendar-header"></div>
                <div class="content-body">
                    <div class="calendar-grid" id="calendar-grid-view"></div>
                    <div class="event-list" id="calendar-event-list"></div>
                </div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ì‚¬ì§„ì²© -->
            <div id="photos" class="page">
                <div class="status-bar"></div>
                <div class="app-header">ìµœê·¼ í•­ëª©</div>
                <div class="content-body">
                    <div class="section-title">ìµœê·¼ ì‚¬ì§„</div>
                    <div class="photo-grid" id="recent-photos-grid"></div>
                    <div class="section-title" onclick="toggleSecretPhotos()">ë¹„ë°€ ì‚¬ì§„</div>
                    <div class="photo-grid" id="secret-photos-grid" style="display: none;"></div>
                </div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ë¯¸ë¦¬ ì•Œë¦¼ -->
            <div id="reminders" class="page">
                <div class="status-bar"></div>
                <div class="app-header">ë¯¸ë¦¬ ì•Œë¦¼</div>
                <div class="content-body" id="reminders-list"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ë¬¸ì ëª©ë¡ -->
            <div id="messages" class="page">
                <div class="status-bar"></div>
                <div class="app-header">ë©”ì‹œì§€</div>
                <div class="content-body" id="message-list"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>
            
            <!-- ë¬¸ì ìƒì„¸ -->
            <div id="message-detail" class="page">
                <div class="status-bar"></div>
                <div class="app-header">
                    <span class="back-button" data-page="messages">â€¹</span>
                    <span id="message-detail-sender"></span>
                </div>
                <div class="content-body">
                    <div class="chat-body" id="message-detail-content"></div>
                </div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ë©”ëª¨ ëª©ë¡ -->
            <div id="notes" class="page">
                <div class="status-bar"></div>
                <div class="app-header">ë©”ëª¨</div>
                <div class="content-body" id="note-list"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ë©”ëª¨ ìƒì„¸ -->
            <div id="note-detail" class="page">
                <div class="status-bar"></div>
                <div class="app-header">
                    <span class="back-button" data-page="notes">â€¹</span>
                    <span id="note-detail-title"></span>
                </div>
                <div class="content-body">
                    <div class="note-content" id="note-detail-content"></div>
                </div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ì‚¬íŒŒë¦¬ -->
            <div id="safari" class="page">
                <div class="status-bar"></div>
                <div class="safari-header">
                    <div class="search-bar-container">
                        <span class="search-icon">ğŸ”</span>
                        <input type="text" class="search-bar" placeholder="ê²€ìƒ‰ ë˜ëŠ” ì›¹ ì‚¬ì´íŠ¸ ì´ë¦„ ì…ë ¥">
                    </div>
                </div>
                <div class="content-body" id="safari-content"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ìŒì•… -->
            <div id="music" class="page">
                <div class="status-bar"></div>
                <div class="app-header" id="music-playlist-title"></div>
                <div class="content-body" id="music-track-list"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ì¼ê¸° -->
            <div id="diary" class="page">
                <div class="status-bar"></div>
                <div class="app-header">Diary</div>
                <div class="content-body" id="diary-list"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>

            <!-- ì»¤ìŠ¤í…€ ì•± 1 (ë§ìƒ ì•„ì¹´ì´ë¸Œ) -->
            <div id="customApp1" class="page">
                <div class="status-bar"></div>
                <div class="app-header" id="custom-app1-header"></div>
                <div class="content-body" id="custom-app1-content"></div>
                <div class="home-indicator-container"><div class="home-indicator" data-page="home"></div></div>
            </div>
            
            <!-- ì»¤ìŠ¤í…€ ì•± 1 - ê²Œì‹œê¸€ ìƒì„¸ -->
            <div id="customApp1-post-detail" class="page">
                <div class="status-bar"></div>
                <div class="app-header">
                    <span class="back-button" data-page="customApp1">â€¹</span>
                    <span>ê²Œì‹œê¸€</span>
                </div>
                <div class="content-body" id="custom-app1-post-content"></div>
                 <div class="home-indicator-container">
                    <div class="home-indicator" data-page="home"></div>
                </div>
            </div>


            <!-- Photo Modal -->
            <div id="photo-modal" class="photo-modal-overlay">
                <span class="close-photo-modal">&times;</span>
                <img class="photo-modal-content" id="modal-image">
            </div>
            
            <!-- Password Modal for Notes -->
            <div id="password-modal-overlay" class="modal-overlay">
                <div class="modal-content">
                    <h3>ì•”í˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”</h3>
                    <input type="password" id="password-input" placeholder="ì•”í˜¸">
                    <div class="modal-buttons">
                        <button id="password-cancel">ì·¨ì†Œ</button>
                        <button id="password-submit">í™•ì¸</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

<script>
const phoneData = {
    callHistory: [
        { name: "ì—„ë§ˆ", type: "ìˆ˜ì‹  í†µí™”", duration: "47ì´ˆ" },
        { name: "ì•„ë¹ ", type: "ìˆ˜ì‹  í†µí™”", duration: "1ë¶„ 11ì´ˆ" },
        { name: "ëª¨ë¥´ëŠ” ë²ˆí˜¸", type: "ë¶€ì¬ì¤‘ ì „í™”", duration: "" },
        { name: "í•™ì›", type: "ìˆ˜ì‹  í†µí™”", duration: "21ì´ˆ" },
    ],
    alarms: [
        { time: "06:30", label: "ì¼ì–´ë‚˜ë¼.. ëŠ¦ì„ ê±°ì•¼..", enabled: true },
        { time: "07:30", label: "ì•„ì¹¨ ë¹„íƒ€ë¯¼ ë¨¹ê¸°", enabled: true },
        { time: "22:00", label: "ë§ìƒ ì•„ì¹´ì´ë¸Œ ì ‘ì† ì‹œê°„", enabled: true },
        { time: "23:30", label: "ì±… ì½ê¸°", enabled: false },
        { time: "01:00", label: "ìë¼.. ë‚´ì¼ ë˜ í•™êµë‹¤..", enabled: true },
    ],
    calendar: {
        month: "6ì›”",
        year: "2025",
        events: [
            { date: 8, title: "ë§ìƒ-ê¸€ ëŒ€íšŒ" },
            { date: 13, title: "ì²´ìœ¡ ëŒ€íšŒ" },
            { date: 16, title: "ë³‘ì› í–‰ì‚¬" },
            { date: 20, title: "ì¶•ì œ" },
            { startDate: 23, endDate: 27, title: "ì‹œí—˜ ê¸°ê°„" },
            { date: 30, title: "í•™êµ ì‹œí—˜" }
        ]
    },
    photos: {
        recent: [
            "https://github.com/sidsid-hue/sid/blob/main/%EA%B9%80%EC%8B%9C%ED%99%98/%EC%85%80%EC%B9%B41.png?raw=true",
            "https://github.com/sidsid-hue/sid/blob/main/%EA%B9%80%EC%8B%9C%ED%99%98/%EC%85%80%EC%B9%B42.png?raw=true",
            "https://github.com/sidsid-hue/sid/blob/main/%EA%B9%80%EC%8B%9C%ED%99%98/%EC%8A%A4%EC%83%B7.png?raw=true",
            "https://github.com/sidsid-hue/sid/blob/main/%EA%B9%80%EC%8B%9C%ED%99%98/%EB%B0%A4%ED%95%98%EB%8A%98.jpg?raw=true"
        ],
        secret: [
            "https://github.com/sidsid-hue/sid/blob/main/%EA%B9%80%EC%8B%9C%ED%99%98/%EC%9E%90%ED%95%99.png?raw=true"
        ],
    },
    reminders: [
        { task: "ë„ì„œê´€ ì±… ë°˜ë‚©", completed: false },
        { task: "í•™ì› ê°€ê¸°", completed: true },
        { task: "ë§ìƒ ì•„ì¹´ì´ë¸Œ ìƒˆ ê¸€ ì“°ê¸°", completed: false },
        { task: "ì €ë… í˜¼ì ì‹œì¼œë¨¹ê¸°", completed: false },
        { task: "í•™êµì—ì„œ ë²„í‹°ê¸°", completed: false },
    ],
    messages: [
        {
            id: 1,
            sender: "ì—„ë§ˆ",
            preview: "ì‹œí™˜ì•„, ì˜¤ëŠ˜ ëŠ¦ê²Œ...",
            conversation: [
                { type: "received", text: "ì‹œí™˜ì•„, ì˜¤ëŠ˜ ëŠ¦ê²Œ ë“¤ì–´ê°„ë‹¤. ëƒ‰ì¥ê³ ì— ë°˜ì°¬ ìˆìœ¼ë‹ˆê¹Œ ë°ì›Œ ë¨¹ì–´. ë¹„íƒ€ë¯¼ ë¨¹ëŠ” ê±° ìŠì§€ ë§ˆ." },
            ]
        },
        {
            id: 2,
            sender: "ì‹ í•œì€í–‰",
            preview: "[ì§€ì¶œ] 13,000ì›(CGV)",
            conversation: [
                { type: "received", text: "[ì‹ í•œ ì²´í¬ì¹´ë“œ] 07/28 18:40 12,000ì›(êµë³´ë¬¸ê³ ) ì”ì•¡ 324,500ì›" },
                { type: "received", text: "[ì‹ í•œ ì²´í¬ì¹´ë“œ] 07/29 14:20 4,800ì›(ìŠ¤íƒ€ë²…ìŠ¤) ì”ì•¡ 319,700ì›" },
                { type: "received", text: "[ì‹ í•œ ì²´í¬ì¹´ë“œ] 07/30 20:15 24,900ì›(ì¿ íŒ¡) ì”ì•¡ 294,800ì›" },
                { type: "received", text: "[ì‹ í•œ ì²´í¬ì¹´ë“œ] 08/01 12:30 8,500ì›(í•™êµ ì• ë¶„ì‹ì§‘) ì”ì•¡ 286,300ì›" },
                { type: "received", text: "[ì‹ í•œ ì²´í¬ì¹´ë“œ] 08/04 19:45 13,000ì›(CGV) ì”ì•¡ 273,300ì›" },
            ]
        },
        {
            id: 3,
            sender: "KT ë©¤ë²„ì‹­",
            preview: "[KT] ê¹€ì‹œí™˜ ê³ ê°ë‹˜",
            conversation: [
                { type: "received", text: "[KT] ê¹€ì‹œí™˜ ê³ ê°ë‹˜, 3ì›” ë©¤ë²„ì‹­ í˜œíƒì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì˜í™” 2ì²œì› í• ì¸ì¿ í° ë“± í™•ì¸í•˜ì„¸ìš”. [ë§í¬]" },
            ]
        },
        {
            id: 4,
            sender: "í•™ì›",
            preview: "ê¹€ì‹œí™˜ í•™ìƒ ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬ ê²°ê³¼ ì•ˆë‚´",
            conversation: [
                { type: "received", text: "ê¹€ì‹œí™˜ í•™ìƒ ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬ ê²°ê³¼ ì•ˆë‚´: 78ì (ì „ì²´ í‰ê·  83ì ). ë‹¤ìŒ ì£¼ ë³´ê°•ìˆ˜ì—… í•„ìˆ˜ ì°¸ì„ ë°”ëë‹ˆë‹¤." },
            ]
        },
        {
            id: 5,
            sender: "ì•„ë²„ì§€",
            preview: "2ì£¼ ë’¤ ë³‘ì› í–‰ì‚¬...",
            conversation: [
                { type: "received", text: "2ì£¼ ë’¤ ë³‘ì› í–‰ì‚¬ì— ê°™ì´ ê°€ì. ì •ì¥ ì…ê³ . ì˜ëŒ€ êµìˆ˜ë‹˜ë“¤ë„ ì˜¤ì‹ ë‹¤." },
                { type: "sent", text: "ë„¤..." },
            ]
        },
    ],
    notes: [
        { id: 1, type: "secret", title: "ë¶€ëª¨ë‹˜ê»˜ ë§í•˜ê³  ì‹¶ì€ ê²ƒë“¤", content: "ì•„ë¹  ì—„ë§ˆ ìš”ì¦˜ ì–´ë•Œ? ë‚˜ë„ ì˜ ì§€ë‚´ê³  ìˆì–´. ì„±ì ì€... ì•„ì§ ë…¸ë ¥ ì¤‘. ì¹œêµ¬ë„ ìƒê²¼ì–´. (ê±°ì§“ë§) ì™¸ë¡­ì§€ ì•Šì•„. (ì´ê²ƒë„ ê±°ì§“ë§)" },
        { id: 2, type: "secret", title: "ê´€ì°°", content: "ê°•ë¯¼í˜\n- ì–‘ì•„ì¹˜ ê°™ë‹¤. ì¢€ ë¬´ì„œì›€...\n\ní•˜ìœ ì„±\n- í•­ìƒ ì¸ê¸° ë§ì•„ì„œ ì‹ ê¸°í•¨. ë¶€ëŸ½ë‹¤." },
        { id: 3, type: "secret", title: "ì—…ì ", content: "ë‚´ê°€ ì“´ ì° 'ì™•ë”°ì˜ ì—­ì „' ì¡°íšŒìˆ˜ 2.3k\ní˜„ì¬ ë‹‰ë„¤ì„ ëœ»: í™˜ìƒí–ˆë”ë‹ˆ ëª¬ìŠ¤í„°\nìƒˆë¡œìš´ ë‹‰ë„¤ì„ í›„ë³´: ì‹œí¬ë¦¿í™˜ìƒ, ëª¬í™˜ìŠ¤í„°\në ˆë”§ ì¹´ë¥´ë§ˆ í¬ì¸íŠ¸: 1,247\n\nì£¼ì˜ì‚¬í•­: ì ˆëŒ€ í˜„ì‹¤ ì •ë³´ ë…¸ì¶œ ê¸ˆì§€" },
        { id: 4, type: "normal", title: "ë„ì„œê´€ ì¶”ì²œë„ì„œ ëª©ë¡", content: "- ë¯¸ì›€ë°›ì„ ìš©ê¸° (ì½ë‹¤ê°€ í¬ê¸°)\n- ì‚¬ëŒì€ ë¬´ì—‡ìœ¼ë¡œ ì‚¬ëŠ”ê°€\n- ë°ë¯¸ì•ˆ (ë‹¤ì‹œ ì½ê¸°)\n- 1984 (ì–´ë ¤ì›€)\n-ì½”ìŠ¤ëª¨ìŠ¤ (ì–¸ì  ê°€ëŠ”...)" },
        { id: 5, type: "normal", title: "ì˜¨ë¼ì¸ì—ì„œ ì°¾ì€ ëŒ€í™”ë²•", content: "ìƒëŒ€ë°© ì´ë¦„ ë¶€ë¥´ë©° ë§í•˜ê¸°\n3ì´ˆ ë£° (ëŒ€ë‹µ ì „ 3ì´ˆ ìƒê°)\nì§ˆë¬¸ìœ¼ë¡œ ëë‚´ê¸°\nì•„ì´ì»¨íƒ ì¤‘ìš” (ê·¼ë° ëª»í•˜ê² ìŒã… )\nì§„ì‹¬ ë‹´ì•„ì„œ ë“¤ì–´ì£¼ê¸°" },
        { id: 6, type: "normal", title: "í˜¼ìë§Œì˜ ê³„íší‘œ", content: "ì•„ì¹¨ 7ì‹œ ê¸°ìƒ (ì‹¤íŒ¨ìœ¨ 90%)\nìš´ë™ 30ë¶„ (ìœ íŠœë¸Œ í™ˆíŠ¸)\në…ì„œ 1ì‹œê°„\nSNS ì¤„ì´ê¸° (ë¶ˆê°€ëŠ¥)\nì¼ì° ìê¸° (ìƒˆë²½ 3ì‹œ...)\nëˆ„êµ°ê°€ì™€ ëŒ€í™”í•´ë³´ê¸° (ì–¸ì  ê°€ëŠ”...)" },
        { id: 7, type: "normal", title: "ì›¹íˆ°/ì†Œì„¤ ì™„ê²° ì²´í¬ë¦¬ìŠ¤íŠ¸", content: "â–¡ ë‚˜ í˜¼ìë§Œ ë ˆë²¨ì—… (ì¬ë…)\nâ–¡ ì‹¸ì›€ë…í•™ (ì™„)\nâ–¡ í˜¸ë‘ì´í˜•ë‹˜ (ì™„)\nâ–¡ ì „ì§€ì  ë…ì ì‹œì  (ëª…ì‘)" },
    ],
    safari: {
        recentSearches: ["ì¶”ì²œìˆ˜ ë§ì´ ë°›ëŠ” íŒ", "ì†Œì‹¬í•œ ì„±ê²© ê·¹ë³µí•˜ëŠ” ë°©ë²•", "ì˜ì‚¬ ë¶€ëª¨ë‹˜ê»˜ ì¸ì •ë°›ìœ¼ë ¤ë©´?", "í•„ìŠ¹ ëŒ€í™”ë²•", "ë§ìƒ ì•„ì¹´ì´ë¸Œ"],
        deletedHistory: ["ì™•ë”° íƒˆì¶œí•˜ëŠ” ë²•", "í˜¼ì í‚¤ìŠ¤ í•˜ëŠ” ë²•", "ì¸í„°ë„· ì ‘ì† ê¸°ë¡ ì‚­ì œ ë°©ë²•"],
    },
    music: {
        playlistTitle: "ìƒˆë²½ 3ì‹œì˜ ë„í”¼ì²˜ ğŸ§",
        tracks: [
            { title: "TOMBOY", artist: "í˜ì˜¤ (HYUKOH)" },
            { title: "ê¸°ì–µì„ ê±·ëŠ” ì‹œê°„", artist: "ë„¬ (NELL)" },
            { title: "Hollywood", artist: "ê²€ì •ì¹˜ë§ˆ (The Black Skirts)" },
            { title: "ì£¼ì €í•˜ëŠ” ì—°ì¸ë“¤ì„ ìœ„í•´", artist: "ì”ë‚˜ë¹„ (Jannabi)" },
            { title: "No Surprises", artist: "Radiohead" },
            { title: "ë‚¯ì„  ì—´ëŒ€", artist: "ìœì• í”Œ (THORNAPPLE)"},
            { title: "Vineyard", artist: "ìš°íš¨ (OOHYO)" },
            { title: "ì„¬", artist: "íŒ¨ë‹‰ (Panic)" },
            { title: "ê·¸ê±´ ì•„ë§ˆ ìš°ë¦¬ì˜ ì˜ëª»ì€ ì•„ë‹ ê±°ì•¼", artist: "ë°±ì˜ˆë¦° (Yerin Baek)" },
            { title: "ê³µë“œë¦¬", artist: "í˜ì˜¤ (HYUKOH)" }
        ]
    },
    diary: [
        { date: "2022-10-15", content: "ì˜¤ëŠ˜ë„ í˜¼ì ì ì‹¬. ë²Œì¨ ìµìˆ™í•´ì¡Œë‹¤. ì˜†ìë¦¬ ì• ë“¤ì´ ë‚´ êµê³¼ì„œì— ë‚™ì„œí•œ ê±° ë°œê²¬í–ˆëŠ”ë°, ê·¸ëƒ¥ ì§€ì› ë‹¤. ì„ ìƒë‹˜ê»˜ ë§í• ê¹Œ í–ˆëŠ”ë° ê·¸ëŸ¬ë©´ ë” ì‹¬í•´ì§ˆ ê²ƒ ê°™ì•„ì„œ. ì§‘ì— ì™€ì„œ ë§ìƒ ì•„ì¹´ì´ë¸Œì— ê¸€ ì˜¬ë ¸ë”ë‹ˆ ëŒ“ê¸€ 23ê°œ ë‹¬ë¦¼. ì§„ì§œ ì‹ ê¸°í•˜ë‹¤. í˜„ì‹¤ì—ì„  ë§ í•œë§ˆë””ë„ ëª»í•˜ëŠ”ë° ì˜¨ë¼ì¸ì—ì„  ì¸ê¸° ìˆëŠ” ê²ƒ ê°™ìŒ. 'í™˜ìŠ¤í„°'ë¼ëŠ” ë‹‰ë„¤ì„ìœ¼ë¡œ í™œë™í•˜ë‹ˆê¹Œ ì•„ë¬´ë„ ë‚  ëª» ì•Œì•„ë´„. ê·¸ê²Œ ì¢‹ë‹¤." },
        { date: "2023-06-22", content: "ì•„ë²„ì§€ê°€ ë³‘ì›ì¥ ë˜ì…¨ë‹¤ê³  ì¶•í•˜í•œë‹¤ë©´ì„œ ì§‘ì— ì‚¬ëŒë“¤ ë§ì´ ì™”ë‹¤. ë‚˜ë³´ê³  ë‚˜ì™€ì„œ ì¸ì‚¬í•˜ë¼ëŠ”ë° ìˆ¨ê³ ë§Œ ì‹¶ì—ˆìŒ. ê²°êµ­ 5ë¶„ë§Œ ìˆë‹¤ê°€ ë°©ìœ¼ë¡œ ë„ë§ì³¤ë‹¤. ì—„ë§ˆê°€ ì‹¤ë§í•œ í‘œì •ìœ¼ë¡œ ì³ë‹¤ë´¤ë‹¤. ë¯¸ì•ˆí•œë° ì–´ì©” ìˆ˜ ì—†ë‹¤. ì‚¬ëŒë“¤ ì•ì—ì„œ ë§í•˜ë©´ ì‹¬ì¥ì´ í„°ì§ˆ ê²ƒ ê°™ì€ë°. ì˜¨ë¼ì¸ì—ì„  ì˜¤ëŠ˜ ë‚´ê°€ ì“´ ê´´ë‹´ ê¸€ì´ ë² ìŠ¤íŠ¸ ê¸€ ëë‹¤. ì•„ë¬´ë„ ëª¨ë¥´ê² ì§€ë§Œ ë‚˜ë¦„ ë¿Œë“¯í•¨." },
        { date: "2023-12-03", content: "ì„±ì í‘œ ë°›ì•˜ë‹¤. ì¤‘ê°„ì€ í–ˆëŠ”ë° ë¶€ëª¨ë‹˜ ê¸°ì¤€ì—ë¡  í˜•í¸ì—†ëŠ” ë“¯. ì•„ë²„ì§€ëŠ” ë§ì—†ì´ í•œìˆ¨ë§Œ ì‰¬ì…¨ê³ , ì–´ë¨¸ë‹ˆëŠ” ë‹¤ë¥¸ ì˜ì‚¬ ì„ ìƒë‹˜ ì•„ë“¤ ì–˜ê¸°í•˜ì…¨ë‹¤. 'ìŸ¤ëŠ” ì „êµ 1ë“±ì¸ë°...'' ì´ëŸ° ì‹ìœ¼ë¡œ. ë‚´ ë°©ì— ì™€ì„œ í˜¼ì ìš¸ì—ˆë‹¤. ì˜¨ë¼ì¸ì—ì„  'ì¸ìƒ ê°œë§í–ˆë‹¤'ê³  ê¸€ ì˜¬ë ¸ë”ë‹ˆ ê³µê° ëŒ“ê¸€ 50ê°œ ë„˜ê²Œ ë‹¬ë¦¼. ê·¸ë‚˜ë§ˆ ìœ„ë¡œê°€ ëœë‹¤." },
        { date: "2024-09-21", content: "ë„ì„œê´€ì—ì„œ <ë°ë¯¸ì•ˆ>ì´ë¼ëŠ” ì±… ì½ì—ˆë‹¤. ì£¼ì¸ê³µì´ ë‚˜ë‘ ë¹„ìŠ·í•˜ê²Œ í˜¼ìì¸ ê²ƒ ê°™ì•„ì„œ ëª°ì…ëë‹¤. ì§‘ì— ì˜¤ëŠ” ê¸¸ì— ê·¸ ì–‘ì•„ì¹˜ë¥¼ ë´¤ë‹¤. ê°•ë¯¼í˜ì¸ê°€? ë§ìƒ ì•„ì¹´ì´ë¸Œì— 'ì–‘ì•„ì¹˜ ëŒ€ì²˜ë²•' ë¬¼ì–´ë´¤ë”ë‹ˆ 'ã……ã…‚ ê·¸ëƒ¥ í”¼í•´' ì´ëŸ° ë‹µë³€ë§Œ ì˜¤ê³ ." },
        { date: "2025-03-01", content: "ìƒˆí•™ê¸° ì‹œì‘. 2í•™ë…„ ëë‹¤. ë‹´ì„ ì„ ìƒë‹˜ì´ ë‚´ ì´ë¦„ ë¶€ë¥´ì…¨ì„ ë•Œ ëª©ì†Œë¦¬ê°€ ë„ˆë¬´ ì‘ì•˜ë‚˜ ë´. 'ëª©ì†Œë¦¬ ì¢€ í¬ê²Œ!'ë¼ê³  í•˜ì…”ì„œ ì–¼êµ´ ë¹¨ê°œì¡Œë‹¤. ì˜†ì—ì„œ ëˆ„ê°€ í‚¥í‚¥ ì›ƒì—ˆë‹¤. 'ì†Œì‹¬í•œ ì„±ê²© ê·¹ë³µí•˜ëŠ” ë²•' ê²€ìƒ‰í–ˆë”ë‹ˆ 'ê·¸ëƒ¥ ë§˜ëŒ€ë¡œ ì‚´ì•„' ê°™ì€ ê°œì†Œë¦¬ë§Œ ë‚˜ì˜´. ì‰½ê²Œ ë§í•˜ë„¤. í˜„ì‹¤ì—ì„  ê·¸ê²Œ ì•ˆ ë˜ëŠ”ë°." },
        { date: "2025-03-12", content: "ìƒì¼ì´ë‹¤. ë¶€ëª¨ë‹˜ì€ ì˜¤ëŠ˜ë„ ë°”ì˜ì‹œë‹¤. ë§ìƒ ì•„ì¹´ì´ë¸Œì— ìƒì¼ì´ë¼ê³  ì˜¬ë ¸ë”ë‹ˆ ë‹¤ë“¤ ëŒ“ê¸€ë¡œ ì¶•í•˜í•´ì¤¬ë‹¤. í˜¼ì ë¨¹ëŠ” ì¼€ì´í¬ëŠ” ë¨¹ê¸° ì‹«ì–´ì„œ ê·¸ëƒ¥ ë²„ë ¸ë‹¤." },
    ],
    metaMessages: [
        "ì €ê¸°...ì£„ì†¡í•©ë‹ˆë‹¤...",
        "ì œ í°ì¸ë°ìš”... ì°¾ìœ¼ì‹  ê±°ë©´...",
        "ì•„ ã……ã…‚ ì§„ì§œ ë§í–ˆë‹¤... í°ì— ì¤‘ìš”í•œ ê±° ë§ì€ë°...",
        "í˜¹ì‹œ ì œ í° ì£¼ìš°ì…¨ìœ¼ë©´ ëŒë ¤ì£¼ì‹¤ ìˆ˜ ìˆì„ê¹Œìš”... ì •ë§ ê¸‰í•©ë‹ˆë‹¤...",
        "ê´‘ì§„ê³  ì •ë¬¸ì—ì„œ ê¸°ë‹¤ë¦¬ê³  ìˆê² ìŠµë‹ˆë‹¤... ì œë°œìš”... ë¶€íƒë“œë¦½ë‹ˆë‹¤..."
    ],
    customApp1: {
        appName: "ë§ìƒ ì•„ì¹´ì´ë¸Œ",
        iconDescription: "a%20dark%20blue%20notebook%20with%20a%20single%20glowing%20star%20on%20the%20cover",
        content: {
            posts: [
                { id: 1, popular: true, title: "[ì¸ê¸°ê¸€] \"ì™•ë”°ì˜ ì—­ì „: ë‚˜ëŠ” ê·¸ë“¤ì˜ ì¡´ì¬ë¥¼ ëª¨ë¥´ëŠ” ì²™í•œë‹¤\"", content: "í˜„ì‹¤ì—ì„  ì¡´ì¬ê° ì—†ëŠ” íˆ¬ëª…ì¸ê°„ ì·¨ê¸‰ë°›ëŠ” ì“°ë ˆê¸°ì§€ë§Œ, ì˜¨ë¼ì¸ì—ì„  ë‚´ê°€ ì™•ì´ë‹¤. í•™êµì—ì„œ ë‚  ë¬´ì‹œí•˜ëŠ” ê·¸ ìƒˆë¼ë“¤, ë‹¤ ë‚´ ê¸€ ì½ê³  ê³µê° ëˆ„ë¥´ê³  ìˆì„ê±¸? ã…‹ã…‹ã…‹ã…‹ ê±”ë“¤ì€ ì ˆëŒ€ ëª¨ë¥´ê² ì§€. ìê¸°ë“¤ì´ ë¬´ì‹œí•˜ëŠ” ì°ë”°ê°€ ì—¬ê¸°ì„œ ì¸ê¸°ê¸€ ì“°ëŠ” ì‚¬ëŒì¸ì§€. ì¡´ì¬ë¥¼ ë¶€ì •ë‹¹í•˜ëŠ” í˜„ì‹¤ì´ ê°œë¹¡ì¹˜ì§€ë§Œ ì—¬ê¸°ì„  ì ì–´ë„ ë‚´ ëª©ì†Œë¦¬ì— ëˆ„êµ°ê°€ ë°˜ì‘í•´ì¤€ë‹¤. ì´ê²Œ ì§„ì§œ ë‚˜ë‹¤. í•™êµì—ì„œì˜ ë‚˜ëŠ” ê°€ì§œë‹¤.", author: "í™˜ìŠ¤í„°", recommendations: 132, comments: [{ author: "ã…‡ã…‡", text: "ì´ê±° ã„¹ã…‡... í˜„ì‹¤ ì‹œê¶ì°½ì¸ë° ì—¬ê¸°ì„œë¼ë„ ì™• í•´ì•¼ì§€" }, { author: "ì§€ë‚˜ê°€ë˜", text: "í•„ë ¥ ì¢‹ìœ¼ì‹œë„¤ìš”. ê³µê°ë©ë‹ˆë‹¤." }] },
                { id: 2, popular: false, title: "\"ì†Œì‹¬ë‚¨ì˜ ìƒì¡´ ë§¤ë‰´ì–¼: íˆ¬ëª…ì¸ê°„ ë˜ëŠ” ë²•\"", content: "ë²½ê³¼ ê°™ì€ ìƒ‰ ì˜· ì…ê¸°<br>ëª©ì†Œë¦¬ ìµœëŒ€í•œ ì‘ê²Œ - ë“¤ë¦¬ë©´ ì§€ëŠ” ê±°ì„<br>ì ì‹¬ì‹œê°„ì—” ë„ì„œê´€ êµ¬ì„ ìë¦¬ ì„ ì í•˜ê¸°<br>ì²´ìœ¡ì‹œê°„ì— ì•„í”„ë‹¤ê³  í•˜ê¸° (ë‹¨, ë§¤ë²ˆì€ ì˜ì‹¬ë°›ìŒ)<br>ì¡°ë³„ê³¼ì œ ë•Œ PPT ë§Œë“¤ê² ë‹¤ê³  ìì›í•˜ê¸° (í˜¼ì í•´ë„ ë§ ì•ˆ ì„ì–´ë„ ë¨)<br>ì†”ì§íˆ ë§í•˜ë©´ ê°œê°™ì€ ì¸ìƒì´ì§€ë§Œ ã……ã…‚ ì–´ì©Œê² ëƒ ã…‹ã…‹ã…‹ ì´ë ‡ê²Œë¼ë„ ì‚´ì•„ë‚¨ëŠ” ê±°ì§€", author: "ìµëª…1", recommendations: 48, comments: [{ author: "ã…‹ã…‹ã…‹", text: "ë‚´ ì–˜ê¸° ì•„ë‹ˆëƒ? ê¿€íŒ ê³ ë§™ë‹¤..." }, { author: "ã… ã… ", text: "ìŠ¬í”ˆë° ì›ƒê¸°ë„¤" }] },
                { id: 3, popular: false, title: "\"ì²«í‚¤ìŠ¤ ìƒìƒí•´ë´„?\"", content: "17ë…„ ì¸ìƒ ë™ì•ˆ ì† í•œë²ˆ ëª»ì¡ì•„ë³¸ ì°ë”°ì˜ ìƒìƒ. í‚¤ìŠ¤ëŠ” ì–´ë–¤ ëŠë‚Œì¼ê¹Œ? ì…ìˆ ì´ ë‹¿ìœ¼ë©´ ì‹¬ì¥ì´ í„°ì§ˆ ê²ƒ ê°™ì€ë°... ì¸í„°ë„·ì—ì„œ ì°¾ì•„ë³´ë‹ˆê¹Œ í˜€ë„ ì“´ë‹¤ë˜ë° ã……ã…‚ ìƒìƒë§Œ í•´ë„ ì‹¬ì¥ ë²Œë ê±°ë¦¼. ì—¬ìì• ê°€ ë‚´ ëˆˆ ì³ë‹¤ë³´ë©´ì„œ ë‹¤ê°€ì˜¤ëŠ” ìƒìƒë§Œ í•´ë„ ì‹¬ì¥ í„°ì§ˆ ê²ƒ ê°™ìŒ. ê·¼ë° ì´ëŸ° ìƒìƒë§Œ í•˜ë‹¤ê°€ í‰ìƒ ëë‚  ë“¯. ë§í• .", author: "ëª¨ì ", recommendations: 112, comments: [{ author: "ì œë°œ", text: "ê·¸ë§Œ.. ê·¸ë§Œí•´...!" }, { author: "ì•„", text: "ìƒìƒë§Œ í•´ë„ ì„¤ë Œë‹¤" }, { author: "ã…‹ã…‹", text: "ì—¬ê¸°ì„œ ì´ëŸ¬ì§€ ë§ˆì„¸ìš”" }] },
                { id: 4, popular: false, title: "\"ì—„ë§ˆ ì•„ë¹ ì—ê²Œ ì‹¤ë§ ì¤¬ì„ ë•Œì˜ ê·¸ í‘œì •\"", content: "ë˜ ì‹œí—˜ ë§í–ˆë‹¤. ì•„ë²„ì§€ëŠ” í•œìˆ¨ ì‰¬ì‹œê³  ì–´ë¨¸ë‹ˆëŠ” \"ë‹¤ë¥¸ ì˜ì‚¬ ì„ ìƒë‹˜ ì•„ë“¤ì€...\" ì‹œì‘í•˜ì‹¬. ê·¸ í‘œì • ì§„ì§œ ê²¬ë”œ ìˆ˜ ì—†ë‹¤. ë‚´ê°€ íƒœì–´ë‚˜ì„œ ê³„ì† ì‹¤ë§ë§Œ ì£¼ëŠ” ê²ƒ ê°™ìŒ. ì˜ëŒ€ ê°€ì•¼ í•œë‹¤ëŠ”ë° ë‚œ ìˆ˜í•™ë„ ëª»í•˜ëŠ”ë° ã…‹ã…‹ã…‹ ì§€ê¸ˆ ë‚´ ì¸ìƒ ì „ë¶€ ê°œì†Œë¦¬ì¸ë“¯. ì§„ì§œ ë„ë§ê°€ê³  ì‹¶ë‹¤.", author: "ã…‡ã…‡", recommendations: 97, comments: [{ author: "...", text: "ìš°ë¦¬ì§‘ì´ë‘ ë˜‘ê°™ë„¤" }] },
                { id: 5, popular: false, title: "\"ì¸ê°„ê´€ê³„ ì‹œë®¬ë ˆì´ì…˜: ëŒ€í™” ì‹œë‚˜ë¦¬ì˜¤ ì—°ìŠµ\"", content: "ì˜¤ëŠ˜ì˜ ê°€ìƒ ëŒ€í™” ì—°ìŠµ:<br>ìƒëŒ€: \"ë„ˆ ì™œ ë§¨ë‚  í˜¼ì ìˆì–´?\"<br>ë‚˜: \"ìŒ... ê·¸ëƒ¥ ìƒê°í•  ê²Œ ë§ì•„ì„œ.\" (X)<br>ë‚˜: \"ã……ã…‚ ë„ˆê°™ì€ ìƒˆë¼ë‘ ìˆê¸° ì‹«ì–´ì„œ ã…‹ã…‹ã…‹\" (O)<br>ìƒëŒ€: \"ë„ˆë„¤ ë¶€ëª¨ë‹˜ ì˜ì‚¬ë¼ë©°?\"<br>ë‚˜: \"...ë„¤\" (X)<br>ë‚˜: \"ê·¸ë˜ì„œ ë­? ë„ˆë³´ë‹¤ ë‚˜ì•„ì„œ ë¹¡ì¹˜ëƒ?\" (O)<br>í˜„ì‹¤ì—ì„  ì ˆëŒ€ ëª»í•˜ëŠ” ë§ë“¤.", author: "ì‹œë®¬ë ˆì´í„°", recommendations: 85, comments: [{ author: "ìµëª…", text: "ì†ì´ ë»¥~" }, { author: "ìº¬", text: "ì´ê²Œ ì •ë‹µì´ì§€" }] }
            ]
        }
    }
};

let unlockTarget = null;

function showPage(pageId) {
    document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
    });
    const newPage = document.getElementById(pageId);
    if (newPage) {
        newPage.classList.add('active');
    }
}

function renderCallHistory() {
    const container = document.getElementById('call-history-list');
    container.innerHTML = phoneData.callHistory.map(call => `
        <div class="list-item ${call.type === 'ë¶€ì¬ì¤‘ ì „í™”' ? 'missed' : ''}">
            <div>
                <div class="title">${call.name}</div>
                <div class="preview">${call.type}</div>
            </div>
            <span>${call.duration}</span>
        </div>
    `).join('');
}

function renderAlarms() {
    const container = document.getElementById('alarm-list');
    container.innerHTML = phoneData.alarms.map(alarm => `
        <div class="list-item">
            <div>
                <div class="title" style="font-size: 1.5em; ${!alarm.enabled ? 'color: #888;' : ''}">${alarm.time}</div>
                <div class="preview" style="${!alarm.enabled ? 'color: #888;' : ''}">${alarm.label}</div>
            </div>
            <div class="alarm-toggle">
                 <label class="toggle-switch">
                    <input type="checkbox" ${alarm.enabled ? 'checked' : ''}>
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    `).join('');
}

window.showEventTooltip = function(event, title, cellElement) {
    event.stopPropagation();

    const existingTooltip = document.querySelector('.screen .event-tooltip');
    if (existingTooltip) {
        existingTooltip.remove();
    }

    const tooltip = document.createElement('div');
    tooltip.className = 'event-tooltip';
    tooltip.textContent = title;

    const screen = document.querySelector('.screen');
    screen.appendChild(tooltip);

    const cellRect = cellElement.getBoundingClientRect();
    const screenRect = screen.getBoundingClientRect();

    const top = cellRect.top - screenRect.top;
    const left = cellRect.left - screenRect.left + (cellRect.width / 2);

    tooltip.style.top = `${top}px`;
    tooltip.style.left = `${left}px`;

    requestAnimationFrame(() => {
        tooltip.classList.add('show');
    });

    const closeTooltip = () => {
        tooltip.classList.remove('show');
        tooltip.addEventListener('transitionend', () => tooltip.remove(), { once: true });
        document.removeEventListener('click', closeTooltip);
    };
    
    setTimeout(() => {
        document.addEventListener('click', closeTooltip, { once: true });
    }, 0);
}

function renderCalendar() {
    const calendarData = phoneData.calendar;
    const year = parseInt(calendarData.year);
    const month = parseInt(calendarData.month) - 1;

    document.getElementById('calendar-header').textContent = "2025, 6ì›”";
    const contentBody = document.querySelector('#calendar .content-body');
    contentBody.innerHTML = '';

    const dayNamesContainer = document.createElement('div');
    dayNamesContainer.className = 'day-names';
    dayNamesContainer.innerHTML = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '].map(d => `<div>${d}</div>`).join('');
    contentBody.appendChild(dayNamesContainer);

    const grid = document.createElement('div');
    grid.className = 'calendar-grid';

    const firstDayOfMonth = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    for (let i = 0; i < firstDayOfMonth; i++) {
        const cell = document.createElement('div');
        cell.className = 'day-cell empty';
        grid.appendChild(cell);
    }

    const multiDayEvents = calendarData.events.filter(e => e.startDate && e.endDate);

    for (let i = 1; i <= daysInMonth; i++) {
        const cell = document.createElement('div');
        cell.className = 'day-cell';
        cell.innerHTML = `<div class="date-number">${i}</div>`;
        
        // Handle single day events (dots)
        const singleEvent = calendarData.events.find(e => e.date === i);
        if (singleEvent) {
            cell.classList.add('has-event');
            const escapedTitle = singleEvent.title.replace(/'/g, "\\'");
            cell.setAttribute('onclick', `showEventTooltip(event, '${escapedTitle}', this)`);
        }
        
        // Handle multi-day events (bars)
        for (const event of multiDayEvents) {
            if (i >= event.startDate && i <= event.endDate) {
                const eventBar = document.createElement('div');
                eventBar.className = 'event-bar';
                
                const dayOfWeek = (firstDayOfMonth + i - 1) % 7;

                // Add text only on the start date or the first day of a week row
                if (i === event.startDate || dayOfWeek === 0) {
                    eventBar.textContent = event.title;
                }

                // Add border-radius classes for start/end of the visual bar
                if (i === event.startDate || dayOfWeek === 0) {
                    eventBar.classList.add('start');
                }
                if (i === event.endDate || dayOfWeek === 6) {
                    eventBar.classList.add('end');
                }
                
                cell.appendChild(eventBar);
            }
        }
        
        grid.appendChild(cell);
    }
    
    const totalCells = firstDayOfMonth + daysInMonth;
    const remainingCells = (7 - (totalCells % 7)) % 7;
    for (let i = 0; i < remainingCells; i++) {
        const cell = document.createElement('div');
        cell.className = 'day-cell empty';
        grid.appendChild(cell);
    }

    contentBody.appendChild(grid);
}


function renderPhotos() {
    const recentGrid = document.getElementById('recent-photos-grid');
    recentGrid.innerHTML = phoneData.photos.recent.map(url => `
        <div class="photo-item" onclick="openPhotoModal('${url}')"><img src="${url}" alt="Recent Photo"></div>
    `).join('');

    const secretGrid = document.getElementById('secret-photos-grid');
    secretGrid.innerHTML = phoneData.photos.secret.map(url => `
        <div class="photo-item" onclick="openPhotoModal('${url}')"><img src="${url}" alt="Secret Photo"></div>
    `).join('');
}

window.openPhotoModal = function(imageUrl) {
    const modal = document.getElementById('photo-modal');
    const modalImg = document.getElementById('modal-image');
    if (modal && modalImg) {
        modalImg.src = imageUrl;
        modal.classList.add('visible');
    }
}

function closePhotoModal() {
    const modal = document.getElementById('photo-modal');
    if (modal) {
        modal.classList.remove('visible');
    }
}

window.toggleSecretPhotos = function() {
    const secretGrid = document.getElementById('secret-photos-grid');
    if (secretGrid) {
        const isHidden = secretGrid.style.display === 'none';
        secretGrid.style.display = isHidden ? 'grid' : 'none';
    }
}

function renderReminders() {
    const container = document.getElementById('reminders-list');
    container.innerHTML = phoneData.reminders.map((r, index) => `
        <div class="list-item" onclick="toggleReminder(${index})">
            <div class="reminder-item">
                <div class="reminder-checkbox ${r.completed ? 'checked' : ''}"></div>
                <span class="title" style="${r.completed ? 'text-decoration: line-through; color: #888;' : ''}">${r.task}</span>
            </div>
        </div>
    `).join('');
}

window.toggleReminder = function(index) {
    if (phoneData.reminders[index]) {
        phoneData.reminders[index].completed = !phoneData.reminders[index].completed;
        renderReminders();
    }
}

function renderMessageList() {
    const container = document.getElementById('message-list');
    container.innerHTML = phoneData.messages.map(msg => `
        <div class="list-item" onclick="showMessageDetail(${msg.id})">
            <div>
                <div class="title">${msg.sender}</div>
                <div class="preview">${msg.preview}</div>
            </div>
            <span>â€º</span>
        </div>
    `).join('');
}

window.showMessageDetail = function(id) {
    const messageData = phoneData.messages.find(msg => msg.id === id);
    if (!messageData) return;

    document.getElementById('message-detail-sender').textContent = messageData.sender;
    const container = document.getElementById('message-detail-content');
    container.innerHTML = messageData.conversation.map(chat => `
        <div class="message-bubble ${chat.type}">${chat.text}</div>
    `).join('');
    showPage('message-detail');
}

function showPasswordPrompt() {
    const modal = document.getElementById('password-modal-overlay');
    modal.classList.add('visible');
    const input = document.getElementById('password-input');
    input.value = '';
    input.focus();
}

function hidePasswordPrompt() {
    const modal = document.getElementById('password-modal-overlay');
    modal.classList.remove('visible');
    unlockTarget = null;
}

function handleNoteClick(noteId) {
    const noteData = phoneData.notes.find(note => note.id === noteId);
    if (!noteData) {
        console.error("Note not found:", noteId);
        return;
    }

    if (noteData.type === 'secret') {
        unlockTarget = noteId;
        showPasswordPrompt();
    } else {
        showNoteDetail(noteId);
    }
}

function handleDiaryClick() {
    unlockTarget = 'diary';
    showPasswordPrompt();
}

function renderNoteList() {
    const container = document.getElementById('note-list');
    const sortedNotes = [...phoneData.notes].sort((a, b) => {
        if (a.type === 'secret' && b.type !== 'secret') return -1;
        if (a.type !== 'secret' && b.type === 'secret') return 1;
        return a.id - b.id;
    });

    container.innerHTML = sortedNotes.map(note => {
        const preview = note.type === 'secret' ? 'ë¹„ë°€ ë©”ëª¨ì…ë‹ˆë‹¤.' : (note.content.substring(0, 30) + '...');
        return `
            <div class="list-item" data-note-id="${note.id}">
                <div>
                    <div class="title">${note.type === 'secret' ? '<span class="lock-icon">ğŸ”’</span>' : ''}${note.title}</div>
                    <div class="preview">${preview}</div>
                </div>
                <span>â€º</span>
            </div>
        `;
    }).join('');
}


function showNoteDetail(id) {
    const noteData = phoneData.notes.find(note => note.id === id);
    if (!noteData) {
        return; // Note not found
    }
    document.getElementById('note-detail-title').textContent = noteData.title;
    document.getElementById('note-detail-content').innerHTML = noteData.content;
    showPage('note-detail');
}

function renderSafariHistory() {
    const container = document.getElementById('safari-content');
    let html = '<div id="safari-history-container">';
    html += '<div class="section-title">ìµœê·¼ ê²€ìƒ‰ì–´</div>';
    html += phoneData.safari.recentSearches.map(term => `<div class="list-item"><div>${term}</div></div>`).join('');
    html += '<div class="section-title" onclick="toggleDeletedHistory()">ì‚­ì œí•œ ê¸°ë¡</div>';
    html += '<div id="deleted-history-list" style="display: none;">';
    html += phoneData.safari.deletedHistory.map(term => `<div class="list-item"><div style="color: #888;">${term}</div></div>`).join('');
    html += '</div>';
    html += '</div>';
    container.innerHTML = html;
}

window.toggleDeletedHistory = function() {
    const list = document.getElementById('deleted-history-list');
    if (list) {
        const isVisible = list.style.display === 'block';
        list.style.display = isVisible ? 'none' : 'block';
    }
}

function renderMusicPlaylist() {
    document.getElementById('music-playlist-title').textContent = phoneData.music.playlistTitle;
    const container = document.getElementById('music-track-list');
    container.innerHTML = phoneData.music.tracks.map(track => `
        <div class="list-item">
            <div>
                <div class="title">${track.title}</div>
                <div class="preview">${track.artist}</div>
            </div>
        </div>
    `).join('');
}

function renderDiary() {
    const container = document.getElementById('diary-list');
    container.innerHTML = phoneData.diary.map(entry => `
        <div class="diary-entry">
            <div class="date">${entry.date}</div>
            <div class="content">${entry.content}</div>
        </div>
    `).join('');
}


function renderCustomApp1() {
    const appData = phoneData.customApp1;
    document.getElementById('custom-app1-header').textContent = appData.appName;
    const container = document.getElementById('custom-app1-content');

    container.innerHTML = appData.content.posts.map(post => `
        <div class="post-item" onclick="showPostDetail(${post.id})">
            <div class="post-title">
                ${post.popular ? '<span class="popular-tag">HOT</span>' : ''}
                ${post.title}
            </div>
            <div class="post-meta">
                <span>${post.author}</span>
                <span>ì¶”ì²œ ${post.recommendations}</span>
                <span>ëŒ“ê¸€ ${post.comments.length}</span>
            </div>
        </div>
    `).join('');

    const iconContainer = document.getElementById('custom-app-icon-1');
    iconContainer.innerHTML = `<img src="https://github.com/sidsid-hue/sid/blob/main/c.webp?raw=true"><span>${appData.appName}</span>`;
}

window.showPostDetail = function(postId) {
    const post = phoneData.customApp1.content.posts.find(p => p.id === postId);
    if (!post) return;

    const container = document.getElementById('custom-app1-post-content');
    container.innerHTML = `
        <div class="post-view-container">
            <div class="post-view-header">
                <div class="title">${post.title}</div>
                <div class="author">${post.author}</div>
            </div>
            <div class="post-view-body">
                ${post.content}
            </div>
            <div class="post-actions">
                <button class="recommend-button" id="rec-btn-${postId}" onclick="addRecommendation(${postId})">
                    ì¶”ì²œ ğŸ‘ <span id="rec-count-${postId}">${post.recommendations}</span>
                </button>
            </div>
            <div class="comment-section">
                <div class="comment-section-title">ëŒ“ê¸€ ${post.comments.length}</div>
                <div id="comment-list-${postId}">
                    ${renderComments(post.comments)}
                </div>
                <div class="comment-input-form">
                    <input type="text" id="comment-input-${postId}" class="comment-input" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”...">
                    <button class="comment-submit" onclick="addComment(${postId})">ë“±ë¡</button>
                </div>
            </div>
        </div>
    `;
    showPage('customApp1-post-detail');
}

function renderComments(comments) {
    return comments.map(comment => `
        <div class="comment-item">
            <div class="comment-author">${comment.author}</div>
            <div class="comment-text">${comment.text}</div>
        </div>
    `).join('');
}

window.addRecommendation = function(postId) {
    const post = phoneData.customApp1.content.posts.find(p => p.id === postId);
    if (post) {
        post.recommendations++;
        document.getElementById(`rec-count-${postId}`).textContent = post.recommendations;
        const button = document.getElementById(`rec-btn-${postId}`);
        button.style.borderColor = '#007AFF';
        button.style.color = '#007AFF';
    }
}

window.addComment = function(postId) {
    const post = phoneData.customApp1.content.posts.find(p => p.id === postId);
    const input = document.getElementById(`comment-input-${postId}`);
    if (post && input && input.value.trim() !== '') {
        post.comments.push({ author: 'ìµëª…', text: input.value.trim() });
        input.value = '';

        // Re-render comments
        document.getElementById(`comment-list-${postId}`).innerHTML = renderComments(post.comments);
        // Update comment count
        document.querySelector(`#customApp1-post-detail .comment-section-title`).textContent = `ëŒ“ê¸€ ${post.comments.length}`;
    }
}


function startMetaMessageSequence() {
    const banner = document.getElementById('notification-banner');
    const bannerBody = banner.querySelector('.notification-body');
    const bannerTitle = banner.querySelector('.notification-title');
    if (!banner || !bannerBody) return;

    let messageIndex = 0;

    const showNextMessage = () => {
        if (messageIndex >= phoneData.metaMessages.length) {
            return; // Stop after all messages are shown
        }
        
        bannerTitle.textContent = "ë§ìƒ ì•„ì¹´ì´ë¸Œ";
        bannerBody.textContent = phoneData.metaMessages[messageIndex];
        banner.classList.add('show');

        // Hide after 3 seconds
        setTimeout(() => {
            banner.classList.remove('show');
            messageIndex++;
            // Wait for hide animation to finish before showing the next one
            setTimeout(showNextMessage, 1500);
        }, 3000);
    };
    
    // Start the sequence after an initial delay
    setTimeout(showNextMessage, 30000);
}


// Initial Render
document.addEventListener('DOMContentLoaded', () => {
    document.querySelector('.home-screen').style.backgroundImage = `url('https://github.com/sidsid-hue/sid/blob/main/g.webp?raw=true')`;

    function updateClock() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const timeString = `${hours}:${minutes}`;
        document.querySelectorAll('.status-bar').forEach(bar => {
            bar.textContent = timeString;
        });
    }

    updateClock(); // Set time immediately on load
    setInterval(updateClock, 1000); // Update every second
    
    // --- Event Listener Setup for Static Elements ---
    document.querySelectorAll('[data-page]').forEach(el => {
        el.addEventListener('click', (e) => {
            // Stop propagation for back buttons inside a page to avoid conflicts
            if (e.target.classList.contains('back-button')) {
                 e.stopPropagation();
            }
            showPage(el.dataset.page);
        });
    });

    const diaryIcon = document.getElementById('diary-app-icon');
    if(diaryIcon) {
        diaryIcon.addEventListener('click', handleDiaryClick);
    }
    // --- End Event Listener Setup ---

    renderCallHistory();
    renderAlarms();
    renderCalendar();
    renderPhotos();
    renderReminders();
    renderMessageList();
    renderNoteList();
    renderSafariHistory();
    renderMusicPlaylist();
    renderDiary();
    renderCustomApp1();

    // Event Delegation for Note Clicks
    const noteListContainer = document.getElementById('note-list');
    if (noteListContainer) {
        noteListContainer.addEventListener('click', (event) => {
            const noteItem = event.target.closest('.list-item[data-note-id]');
            if (noteItem) {
                const noteId = parseInt(noteItem.dataset.noteId, 10);
                if (!isNaN(noteId)) {
                    handleNoteClick(noteId);
                }
            }
        });
    }
    
    // Event Listeners for Photo Modal
    const photoModal = document.getElementById('photo-modal');
    const closePhotoBtn = document.querySelector('.close-photo-modal');
    if (closePhotoBtn) {
        closePhotoBtn.addEventListener('click', closePhotoModal);
    }
    if (photoModal) {
        photoModal.addEventListener('click', (event) => {
            if (event.target === photoModal) {
                closePhotoModal();
            }
        });
    }

    // Event Listeners for Password Modal
    const passwordSubmitBtn = document.getElementById('password-submit');
    const passwordCancelBtn = document.getElementById('password-cancel');
    const passwordModalOverlay = document.getElementById('password-modal-overlay');

    passwordSubmitBtn.addEventListener('click', () => {
        const password = document.getElementById('password-input').value;
        if (password === "0312") {
            if (typeof unlockTarget === 'number') {
                showNoteDetail(unlockTarget);
            } else if (unlockTarget === 'diary') {
                showPage('diary');
            }
            hidePasswordPrompt();
        } else {
            alert("ì•”í˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
            const input = document.getElementById('password-input');
            input.value = '';
            input.focus();
        }
    });

    passwordCancelBtn.addEventListener('click', hidePasswordPrompt);
    passwordModalOverlay.addEventListener('click', (event) => {
        if (event.target === passwordModalOverlay) {
            hidePasswordPrompt();
        }
    });


    const safariSearchBar = document.querySelector('#safari .search-bar');
    if (safariSearchBar) {
        safariSearchBar.addEventListener('focus', () => {
            const historyContainer = document.getElementById('safari-history-container');
            if (historyContainer) {
                historyContainer.style.display = 'block';
            }
        });
    }

    startMetaMessageSequence();
});

</script>
</body>
</html>

